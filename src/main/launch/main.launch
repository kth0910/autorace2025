<launch>
  <arg name="rplidar_port" default="/dev/ttyUSB0"/>
  <arg name="rplidar_baud" default="256000"/>

  <node name="main_class_run" type="main_run.py" pkg="main" output="screen"/>
  <node name="child_sign" type="child_sign.py" pkg="main" output="screen"/>
  <node name="rubber_cone" type="rubber_cone.py" pkg="main" output="screen"/>
  <node name="detect_obstacles" type="detect_obstacles.py" pkg="main" output="screen"/>
  
  <include file="$(find vesc_driver)/launch/vesc_driver_node.launch"/>
  <include file="$(find usb_cam)/launch/usb_cam-test.launch"/>
  <node pkg="image_proc" type="image_proc" name="image_proc" ns="/usb_cam" output="screen"/>
  <include file="$(find aruco_detect)/launch/aruco_detect.launch" />

  <include file="$(find rplidar_ros)/launch/rplidar_s1.launch">
    <arg name="serial_port" value="$(arg rplidar_port)"/>
    <arg name="serial_baudrate" value="$(arg rplidar_baud)"/>
  </include>

  <!-- obstacle_detector 제거: detect_obstacles.py가 /scan을 직접 처리 -->
    
</launch>
